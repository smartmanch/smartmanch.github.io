<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ambition to Learn - Quiz</title>
    <style>
        /* CSS Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1, h2 {
            text-align: center;
            color: #2c3e50;
        }

        /* Login Screen */
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
            display: block;
            margin: 20px auto;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }

        /* Passage Box */
        #passage-box {
            background-color: #fdfdfd;
            padding: 20px;
            border: 1px solid #ddd;
            border-left: 5px solid #3498db;
            margin-bottom: 30px;
            max-height: 300px;
            overflow-y: auto;
            line-height: 1.8;
            font-size: 16px;
            border-radius: 5px;
            position: relative;
        }

        /* Highlight Class */
        .highlight-active {
            background-color: #fff12e; /* Bright Yellow */
            color: #000;
            font-weight: bold;
            border-radius: 3px;
            padding: 2px 0;
            box-shadow: 0 0 5px rgba(255, 241, 46, 0.8);
            transition: background-color 0.3s ease;
        }

        /* Quiz Section */
        .question-text {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 15px;
        }
        .options {
            display: grid;
            gap: 10px;
        }
        .option-btn {
            background-color: white;
            border: 2px solid #ddd;
            color: #333;
            text-align: left;
            width: 100%;
            margin: 0;
            padding: 10px 15px;
            cursor: pointer;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #f0f0f0;
            border-color: #bbb;
        }
        
        /* Feedback Colors */
        .correct {
            background-color: #d4edda !important;
            border-color: #28a745 !important;
            color: #155724 !important;
        }
        .wrong {
            background-color: #f8d7da !important;
            border-color: #dc3545 !important;
            color: #721c24 !important;
        }

        /* Marksheet */
        .marksheet {
            text-align: center;
            border: 2px solid #2c3e50;
            padding: 20px;
            border-radius: 10px;
        }
        .score-big {
            font-size: 32px;
            color: #27ae60;
            font-weight: bold;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div class="container">
    <div id="login-screen">
        <h1>Student Login</h1>
        <div class="input-group">
            <label>Student Name:</label>
            <input type="text" id="studentName" placeholder="Enter your full name">
        </div>
        <div class="input-group">
            <label>Roll Number:</label>
            <input type="text" id="rollNumber" placeholder="Enter roll number">
        </div>
        <button onclick="startQuiz()">Start Quiz</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <h2>Reading Comprehension</h2>
        
        <div id="passage-box">
            <span id="ref-q1">In the darkness of the mine I noiselessly crept as close as I could to the two men who were talking.</span> <span id="ref-q2">I heard one tell the other that not only was the school established for the members of any race, but the opportunities that it provided by which poor but worthy students could work out all or a part of the cost of a board</span>, and at the same time be taught some trade or industry.<br><br>
            As they went on describing the school, it seemed to me that it must be the greatest place on earth, and not even Heaven presented more attractions for me at that time than did the <span id="ref-q3">Hampton Normal and Agricultural Institute in Virginia</span>, about which these men were talking. I resolved at once to go to that school, although I had no idea where it was, or how many miles away, or how I was going to reach it; I remembered only that I was on fire constantly with one ambition, and that was to go to Hampton. This thought was with me day and night.<br><br>
            <span id="ref-q4">In the fall of 1872 I determined to make an effort to get there</span>, although, as I have stated, I had no definite idea of the direction in which Hampton was, or of what it would cost to go there. I do not think that any one thoroughly sympathized with me in my ambition to go to Hampton unless it was my mother, and she was troubled with a grave fear that I was starting out on a <span id="ref-q5">“Wild-goose chase”</span>. At any rate, I go only a half - hearted consent from her that I might start.<br><br>
            <span id="ref-q6">The small amount of money that I had earned had been consumed by my stepfather and the remainder of the family</span>, with the exception of a very few dollars, and so I had very little with which to buy clothes and pay my travelling expenses. My brother John helped me all that he could, but of course that was not a great deal, for his work was in the coal-mine, where he did not earn much, and most of what he did earn went in the direction of paying the house hold expenses.
        </div>

        <div id="question-container">
            </div>

        <button id="next-btn" class="hidden" onclick="loadNextQuestion()">Next Question</button>
        <button id="finish-btn" class="hidden" onclick="showResults()">View Marksheet</button>
    </div>

    <div id="result-screen" class="hidden">
        <h1>Quiz Marksheet</h1>
        <div class="marksheet">
            <p><strong>Name:</strong> <span id="res-name"></span></p>
            <p><strong>Roll No:</strong> <span id="res-roll"></span></p>
            <hr>
            <p>Total Questions: 6</p>
            <p>Your Score:</p>
            <div class="score-big"><span id="res-score">0</span> / 12</div>
            <br>
            <button onclick="location.reload()">Restart Quiz</button>
        </div>
    </div>
</div>

<script>
    // --- Data Configuration ---
    const quizData = [
        {
            q: "i) Why did the narrator creep close to the two men?",
            options: ["To steal from them", "To scare them", "To listen to what they were talking about", "To ask for a job"],
            correct: 2, 
            refId: "ref-q1" 
        },
        {
            q: "ii) What were the two men talking about?",
            options: ["A dangerous accident in the mine", "A great school for poor but worthy students", "A new coal mine opening soon", "A plan to leave the city"],
            correct: 1,
            refId: "ref-q2"
        },
        {
            q: "iii) Where was the school situated?",
            options: ["In New York", "In Virginia", "In London", "In the coal mine"],
            correct: 1,
            refId: "ref-q3"
        },
        {
            q: "iv) When did the narrator determine to go there?",
            options: ["In the summer of 1870", "In the winter of 1871", "In the fall of 1872", "In the spring of 1873"],
            correct: 2,
            refId: "ref-q4"
        },
        {
            q: "v) What is the meaning of “wild-goose chase”?",
            options: ["Hunting wild animals", "A foolish, hopeless, or useless search", "A long journey by train", "Running very fast"],
            correct: 1,
            refId: "ref-q5"
        },
        {
            q: "vi) By whom was the narrator’s small amount of money consumed?",
            options: ["By his brother John", "By thieves", "By his stepfather and the family", "By the school fees"],
            correct: 2,
            refId: "ref-q6"
        }
    ];

    // --- State Variables ---
    let currentQuestionIndex = 0;
    let score = 0;
    let studentName = "";
    let rollNumber = "";
    let attemptsOnCurrent = 0; 

    // --- Functions ---

    function startQuiz() {
        const nameInput = document.getElementById('studentName').value;
        const rollInput = document.getElementById('rollNumber').value;

        if (nameInput.trim() === "" || rollInput.trim() === "") {
            alert("Please enter both Name and Roll Number.");
            return;
        }

        studentName = nameInput;
        rollNumber = rollInput;

        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        
        loadQuestion();
    }

    function loadQuestion() {
        // Clear previous highlights
        clearHighlights();

        const qContainer = document.getElementById('question-container');
        const nextBtn = document.getElementById('next-btn');
        const finishBtn = document.getElementById('finish-btn');
        
        qContainer.innerHTML = "";
        nextBtn.classList.add('hidden');
        finishBtn.classList.add('hidden');
        attemptsOnCurrent = 0;

        const data = quizData[currentQuestionIndex];

        // Create Question UI
        const qTitle = document.createElement('div');
        qTitle.className = 'question-text';
        qTitle.innerText = `Q${currentQuestionIndex + 1}: ${data.q}`;
        qContainer.appendChild(qTitle);

        const optContainer = document.createElement('div');
        optContainer.className = 'options';

        data.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(btn, index, data.correct, data.refId);
            optContainer.appendChild(btn);
        });

        qContainer.appendChild(optContainer);
    }

    function checkAnswer(btnElement, selectedIndex, correctIndex, refId) {
        const allBtns = document.querySelectorAll('.option-btn');

        if (selectedIndex === correctIndex) {
            // Correct Answer
            btnElement.classList.add('correct');
            
            // Highlight Passage Text
            highlightPassage(refId);

            // Add points ONLY on first attempt
            if (attemptsOnCurrent === 0) {
                score += 2;
            }

            // Disable all buttons
            allBtns.forEach(btn => btn.disabled = true);

            // Show Next/Finish Button
            if (currentQuestionIndex < quizData.length - 1) {
                document.getElementById('next-btn').classList.remove('hidden');
            } else {
                document.getElementById('finish-btn').classList.remove('hidden');
            }

        } else {
            // Wrong Answer
            btnElement.classList.add('wrong');
            btnElement.disabled = true; 
            attemptsOnCurrent++; 
        }
    }

    function highlightPassage(id) {
        // Find the specific span in the passage
        const el = document.getElementById(id);
        if (el) {
            el.classList.add('highlight-active');
            
            // Auto-scroll the passage box so the highlighted text is visible
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }

    function clearHighlights() {
        // Remove highlight class from all spans
        const highlighted = document.querySelectorAll('.highlight-active');
        highlighted.forEach(el => el.classList.remove('highlight-active'));
        
        // Scroll back to top of passage for new question
        document.getElementById('passage-box').scrollTop = 0;
    }

    function loadNextQuestion() {
        currentQuestionIndex++;
        loadQuestion();
    }

    function showResults() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');

        document.getElementById('res-name').innerText = studentName;
        document.getElementById('res-roll').innerText = rollNumber;
        document.getElementById('res-score').innerText = score;
    }
</script>

</body>
</html>