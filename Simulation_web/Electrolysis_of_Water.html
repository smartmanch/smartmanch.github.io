<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electrolysis of Water Simulation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #222f3e;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            user-select: none;
        }

        h2 {
            color: #48dbfb;
            text-shadow: 0 0 10px rgba(72, 219, 251, 0.5);
            margin-bottom: 5px;
            text-align: center;
        }

        .subtitle { color: #c8d6e5; margin-bottom: 20px; font-size: 14px; }

        .lab-container {
            position: relative;
            width: 800px;
            height: 500px;
            background: #2c3e50;
            border-radius: 15px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            border: 3px solid #576574;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 20px;
        }

        /* ‡§¨‡•Ä‡§ï‡§∞ */
        .beaker {
            position: relative;
            width: 400px;
            height: 300px;
            border: 5px solid rgba(255, 255, 255, 0.4);
            border-top: none;
            border-radius: 0 0 20px 20px;
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 80px; /* ‡§¨‡•à‡§ü‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ó‡§π */
        }

        /* ‡§™‡§æ‡§®‡•Ä */
        .water {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 280px;
            background: rgba(52, 152, 219, 0.4); /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§®‡•Ä‡§≤‡§æ */
            border-radius: 0 0 15px 15px;
            z-index: 1;
        }

        /* ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•ã‡§° ‡§∞‡•â‡§°‡•ç‡§∏ (‡§ó‡•ç‡§∞‡•á‡§´‡§æ‡§á‡§ü) */
        .electrode {
            position: absolute;
            bottom: 0;
            width: 15px;
            height: 180px;
            background: #2d3436;
            border-radius: 5px 5px 0 0;
            z-index: 2;
        }
        .anode { left: 100px; }
        .cathode { right: 100px; }

        /* ‡§â‡§≤‡•ç‡§ü‡•Ä ‡§™‡§∞‡§ñ‡§®‡§≤‡§ø‡§Ø‡§æ‡§Ç (Inverted Test Tubes) */
        .test-tube {
            position: absolute;
            bottom: 20px; /* ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•ã‡§° ‡§ï‡•á ‡§ä‡§™‡§∞ */
            width: 50px;
            height: 240px;
            border: 3px solid rgba(255, 255, 255, 0.6);
            border-bottom: none;
            border-radius: 25px 25px 0 0;
            background: rgba(255, 255, 255, 0.1);
            z-index: 3;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .tube-left { left: 82.5px; } /* Anode ‡§ï‡•á ‡§ä‡§™‡§∞ */
        .tube-right { right: 82.5px; } /* Cathode ‡§ï‡•á ‡§ä‡§™‡§∞ */

        /* ‡§ó‡•à‡§∏ ‡§ú‡§Æ‡§æ ‡§π‡•ã‡§®‡•á ‡§ï‡•Ä ‡§ú‡§ó‡§π (Top part of tube) */
        .gas-pocket {
            width: 100%;
            height: 0%; /* ‡§Ø‡§π ‡§¨‡•ù‡•á‡§ó‡§æ */
            background: rgba(255, 255, 255, 0.1); /* ‡§ñ‡§æ‡§≤‡•Ä ‡§ú‡§ó‡§π */
            transition: height 0.1s linear;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            color: #feca57;
        }

        /* ‡§™‡§∞‡§ñ‡§®‡§≤‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§®‡•Ä (‡§®‡•Ä‡§ö‡•á ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ) */
        .tube-water {
            width: 100%;
            flex-grow: 1;
            background: rgba(52, 152, 219, 0.6);
        }

        /* ‡§¨‡•Å‡§≤‡§¨‡•Å‡§≤‡•á (Canvas Layer) */
        #bubbleCanvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 4;
            pointer-events: none;
        }

        /* ‡§¨‡•à‡§ü‡§∞‡•Ä ‡§î‡§∞ ‡§∏‡§∞‡•ç‡§ï‡§ø‡§ü */
        .battery-setup {
            position: absolute;
            bottom: 10px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .battery {
            display: flex;
            align-items: center;
            background: #341f97;
            padding: 5px 15px;
            border-radius: 5px;
            border: 2px solid #5f27cd;
        }
        
        .wire {
            position: absolute;
            bottom: 80px; /* ‡§¨‡•Ä‡§ï‡§∞ ‡§ï‡•á ‡§®‡•Ä‡§ö‡•á */
            width: 2px;
            height: 50px;
            background: #576574;
            z-index: 0;
        }
        .wire-pos { left: 107.5px; background: #e74c3c; } /* ‡§≤‡§æ‡§≤ ‡§§‡§æ‡§∞ */
        .wire-neg { right: 107.5px; background: #222f3e; } /* ‡§ï‡§æ‡§≤‡§æ ‡§§‡§æ‡§∞ */

        /* ‡§ï‡•ç‡§∑‡•à‡§§‡§ø‡§ú ‡§§‡§æ‡§∞ */
        .wire-h {
            position: absolute;
            bottom: 30px;
            height: 2px;
            background: #7f8c8d;
        }

        /* ‡§∏‡•ç‡§µ‡§ø‡§ö */
        .switch-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        button#toggleBtn {
            padding: 10px 30px;
            font-size: 18px;
            background-color: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 0 #1e8449;
        }
        button#toggleBtn.stop { background-color: #e74c3c; box-shadow: 0 4px 0 #c0392b; }
        button#toggleBtn:active { transform: translateY(4px); box-shadow: none; }

        /* ‡§≤‡•á‡§¨‡§≤‡•ç‡§∏ */
        .label {
            position: absolute;
            color: white;
            font-size: 14px;
            font-weight: bold;
            background: rgba(0,0,0,0.7);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .equation-box {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 18px;
            border-left: 5px solid #48dbfb;
        }

        .footer-info {
            margin-top: 15px;
            text-align: center;
            font-size: 14px;
            color: #95a5a6;
        }
        .cc-badge { background: #e74c3c; color: white; padding: 2px 8px; border-radius: 4px; font-weight: bold; margin-right: 5px;}
        .author-name { color: #0be881; font-weight: bold; }

    </style>
</head>
<body>

    <h2>‡§ú‡§≤ ‡§ï‡§æ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§Ö‡§™‡§ò‡§ü‡§® (Electrolysis)</h2>
    <div class="subtitle">Class 10 - ‡§Ö‡§Æ‡•ç‡§≤, ‡§ï‡•ç‡§∑‡§æ‡§∞‡§ï ‡§î‡§∞ ‡§≤‡§µ‡§£</div>

    <div class="lab-container">
        
        <div class="equation-box">
            2H‚ÇÇO(l) ‚Üí 2H‚ÇÇ(g) + O‚ÇÇ(g)
        </div>

        <div class="beaker">
            <div class="water"></div>

            <div class="electrode anode"></div>
            <div class="test-tube tube-left">
                <div id="gasO2" class="gas-pocket">O‚ÇÇ</div>
                <div class="tube-water"></div>
            </div>
            
            <div class="electrode cathode"></div>
            <div class="test-tube tube-right">
                <div id="gasH2" class="gas-pocket">H‚ÇÇ</div>
                <div class="tube-water"></div>
            </div>

            <canvas id="bubbleCanvas" width="400" height="300"></canvas>

            <div class="label" style="top: -30px; left: 85px;">Anode (+)</div>
            <div class="label" style="top: -30px; right: 80px;">Cathode (-)</div>
            <div class="label" style="bottom: 80px; left: 20px; background:none; text-shadow: 1px 1px 2px black;">‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§®</div>
            <div class="label" style="bottom: 80px; right: 20px; background:none; text-shadow: 1px 1px 2px black;">‡§π‡§æ‡§á‡§°‡•ç‡§∞‡•ã‡§ú‡§®</div>
        </div>

        <div class="wire wire-pos"></div>
        <div class="wire wire-neg"></div>

        <div class="battery-setup">
            <div class="battery">
                <span style="font-size:24px; font-weight:bold;">üîã 6V Battery</span>
            </div>
            <div class="switch-container">
                <button id="toggleBtn" onclick="toggleSim()">‡§∏‡•ç‡§µ‡§ø‡§ö ‡§ë‡§® (Start)</button>
            </div>
        </div>

    </div>

    <div class="footer-info">
        <span class="cc-badge">CC</span> <span class="author-name">@Rohitash Bharia</span>
        <p>‡§®‡•ã‡§ü: ‡§π‡§æ‡§á‡§°‡•ç‡§∞‡•ã‡§ú‡§® ‡§ó‡•à‡§∏ ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§® ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§ó‡•à‡§∏ ‡§∏‡•á ‡§¶‡•ã‡§ó‡•Å‡§®‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à (2:1)‡•§</p>
    </div>

<script>
    const canvas = document.getElementById('bubbleCanvas');
    const ctx = canvas.getContext('2d');
    const gasO2 = document.getElementById('gasO2');
    const gasH2 = document.getElementById('gasH2');
    const toggleBtn = document.getElementById('toggleBtn');

    let isOn = false;
    let bubbles = [];
    
    // ‡§ó‡•à‡§∏ ‡§Ü‡§Ø‡§§‡§® (‡§™‡•ç‡§∞‡§§‡§ø‡§∂‡§§ ‡§Æ‡•á‡§Ç)
    let volO2 = 0;
    let volH2 = 0;

    // ‡§¨‡•Å‡§≤‡§¨‡•Å‡§≤‡§æ ‡§ï‡•ç‡§≤‡§æ‡§∏
    class Bubble {
        constructor(type) {
            this.type = type; // 'O2' or 'H2'
            // ‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§è‡§®‡•ã‡§° (Left) ‡§Ø‡§æ ‡§ï‡•à‡§•‡•ã‡§° (Right) ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞
            // Anode center ~ 107px, Cathode center ~ 292px within beaker
            const xBase = (type === 'O2') ? 107.5 : 292.5;
            
            this.x = xBase + (Math.random() - 0.5) * 10;
            this.y = 280; // ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•ã‡§° ‡§ï‡•á ‡§®‡•Ä‡§ö‡•á ‡§∏‡•á
            this.speed = 1 + Math.random();
            this.radius = 1 + Math.random() * 2;
        }

        update() {
            this.y -= this.speed;
        }

        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            ctx.fillStyle = "rgba(255, 255, 255, 0.7)";
            ctx.fill();
        }
    }

    function toggleSim() {
        isOn = !isOn;
        if (isOn) {
            toggleBtn.innerText = "‡§∏‡•ç‡§µ‡§ø‡§ö ‡§ë‡§´ (Stop)";
            toggleBtn.className = "stop";
            animate();
        } else {
            toggleBtn.innerText = "‡§∏‡•ç‡§µ‡§ø‡§ö ‡§ë‡§® (Start)";
            toggleBtn.className = "";
        }
    }

    function animate() {
        if (!isOn) return;

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // 1. ‡§¨‡•Å‡§≤‡§¨‡•Å‡§≤‡•á ‡§™‡•à‡§¶‡§æ ‡§ï‡§∞‡•á‡§Ç
        // ‡§π‡§æ‡§á‡§°‡•ç‡§∞‡•ã‡§ú‡§® (H2) ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® (O2) ‡§∏‡•á ‡§¶‡•ã‡§ó‡•Å‡§®‡•Ä ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á ‡§®‡§ø‡§ï‡§≤‡§§‡§æ ‡§π‡•à
        if (Math.random() > 0.3) bubbles.push(new Bubble('H2')); // ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ H2
        if (Math.random() > 0.3) bubbles.push(new Bubble('H2')); 
        if (Math.random() > 0.6) bubbles.push(new Bubble('O2')); // ‡§ï‡§Æ O2

        // 2. ‡§¨‡•Å‡§≤‡§¨‡•Å‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
        for (let i = bubbles.length - 1; i >= 0; i--) {
            let b = bubbles[i];
            b.update();
            b.draw();

            // ‡§Ö‡§ó‡§∞ ‡§¨‡•Å‡§≤‡§¨‡•Å‡§≤‡§æ ‡§™‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§∏‡§§‡§π ‡§™‡§∞ ‡§™‡§π‡•Å‡§Å‡§ö ‡§ú‡§æ‡§è (‡§ú‡§π‡§æ‡§Å ‡§ó‡•à‡§∏ ‡§ú‡§Æ‡§æ ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à)
            // ‡§ó‡•à‡§∏ ‡§™‡•â‡§ï‡•á‡§ü ‡§ï‡•Ä ‡§ä‡§Ç‡§ö‡§æ‡§à ‡§ï‡•á ‡§π‡§ø‡§∏‡§æ‡§¨ ‡§∏‡•á ‡§≤‡§ø‡§Æ‡§ø‡§ü ‡§¨‡§¶‡§≤‡•á‡§Ç
            // Tube Top is at y=20 (relative to beaker bottom is 280? No relative coordinates)
            // Canvas height 300. Tube starts at bottom and goes up.
            
            // Limit Y logic: Tube is 240px tall, starts 20px from bottom. Top is at y = 300 - (20+240) = 40.
            // Gas pocket pushes water level down from y=40.
            
            // Calculate current water level inside tube
            // H2 tube water level
            let waterLevelH2 = 40 + (volH2 * 2.4); // 240px is 100%
            let waterLevelO2 = 40 + (volO2 * 2.4);

            let limit = (b.type === 'H2') ? waterLevelH2 : waterLevelO2;

            if (b.y < limit) {
                bubbles.splice(i, 1);
            }
        }

        // 3. ‡§ó‡•à‡§∏ ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§® ‡§¨‡•ù‡§æ‡§è‡§Ç
        // H2 speed = 2x O2 speed
        if (volH2 < 100) {
            volH2 += 0.05; 
            volO2 += 0.025; 
        } else {
            // Full ‡§π‡•ã ‡§ó‡§Ø‡§æ
            isOn = false;
            toggleBtn.innerText = "Reset";
            toggleBtn.onclick = () => {
                volH2 = 0; volO2 = 0; bubbles = [];
                gasH2.style.height = '0%'; gasO2.style.height = '0%';
                toggleBtn.innerText = "‡§∏‡•ç‡§µ‡§ø‡§ö ‡§ë‡§® (Start)";
                toggleBtn.className = "";
                toggleBtn.onclick = toggleSim;
            };
        }

        // 4. UI ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
        gasH2.style.height = volH2 + "%";
        gasH2.innerText = volH2 > 10 ? "H‚ÇÇ" : "";
        
        gasO2.style.height = volO2 + "%";
        gasO2.innerText = volO2 > 10 ? "O‚ÇÇ" : "";

        requestAnimationFrame(animate);
    }

</script>
</body>
</html>